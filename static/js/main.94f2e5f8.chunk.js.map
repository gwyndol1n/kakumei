{"version":3,"sources":["components/StatusUpdate.js","data/options.js","components/Initiative.js","components/RichText.js","components/PdfDocument.js","index.js"],"names":["StatusUpdate","props","status","onInputChange","bind","fieldPrefix","initiativeIndex","subfieldPrefix","wysiwygOptions","toolbar","tabDisable","height","e","target","dataset","fieldType","subfieldIndex","this","subfields","findIndex","item","id","name","value","setFieldValue","replace","fieldIndex","fields","TabPane","Object","values","map","field","i","className","FormText","muted","label","as","onChange","contents","$editable","options","data-label","component","subfield","data-field-type","React","Component","statusOptions","color","description","priority","CustomDropdown","useField","meta","helpers","customStyles","container","provided","width","menu","state","padding","control","styles","backgroundColor","option","data","isDisabled","isFocused","isSelected","chroma","alpha","css","contrast","cursor","input","singleValue","multiValue","multiValueLabel","multiValueRemove","onBlur","setTouched","selection","handleOptionChange","setValue","isMulti","touched","error","Initiative","statuses","help_text","index","selections","newSelections","assign","split","str","flat","newFields","setState","Card","style","margin","Header","Body","FormGroup","InputGroup","length","Tabs","keys","Tab","eventKey","toLowerCase","title","paddingTop","display","StyleSheet","create","headingOne","marginBottom","fontFamily","lineHeight","fontSize","text","list","marginLeft","listItem","listItemText","HeadingOne","children","UnorderedList","depth","UnorderedListItem","OrderedList","OrderedListItem","renderers","inline","BOLD","key","ITALIC","UNDERLINE","textDecoration","blocks","unstyled","child","join","entities","LINK","src","url","FONT","SPAN","RichText","note","blocksFromHTML","convertFromHTML","initialState","ContentState","createFromBlockArray","contentBlocks","editorState","EditorState","createWithContent","rawContent","convertToRaw","getCurrentContent","redraft","blockFallback","page","paddingBottom","paddingHorizontal","section","flexGrow","body","tableStyles","table","borderStyle","borderColor","borderWidth","borderRightWidth","borderBottomWidth","tableRow","flexDirection","tableColHeader","borderBottomColor","borderLeftWidth","borderTopWidth","tableCol","tableCellHeader","tableCellSubHeader","textAlign","tableCell","textIndent","tableCellSub","PdfDocument","header","moment","format","initiativeList","initiatives","initiative","indexOf","tableCellRow","initiativeTable","j","statusObject","headerStyle","k","size","BlobLink","document","href","rel","RemoveButton","arrayHelpers","Button","type","variant","onClick","remove","AddButton","push","validationSchema","Yup","shape","of","required","download_link","iframe","handleSubmit","setSubmitting","setTimeout","console","log","JSON","stringify","Container","initialValues","onSubmit","enableReinitialize","formProps","CardDeck","boxShadow","border","App","rootElement","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.94f2e5f8.chunk.js","sourcesContent":["import React from 'react';\r\nimport FormText from 'react-bootstrap/FormText';\r\nimport TabPane from 'react-bootstrap/TabPane';\r\n\r\nimport ReactSummernote from 'react-summernote';\r\nimport 'react-summernote/dist/react-summernote.css'; // import styles\r\n\r\nimport 'bootstrap/js/dist/modal';\r\nimport 'bootstrap/js/dist/tooltip';\r\n\r\nimport './StatusUpdate.css';\r\n\r\nimport { Field, ErrorMessage } from 'formik';\r\n\r\nclass StatusUpdate extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.status = this.props.status;\r\n\t\tthis.onInputChange = this.onInputChange.bind(this);\r\n\r\n\t\tthis.fieldPrefix = `initiatives.${this.props.initiativeIndex}.fields.${this.status}`;\r\n\t\tthis.subfieldPrefix = `initiatives.${this.props.initiativeIndex}.subfields.${this.status}`;\r\n\r\n\t\tthis.wysiwygOptions = {\r\n\t\t\ttoolbar: [\r\n\t\t\t// [groupName, [list of button]]\r\n\t\t\t\t['style', ['bold', 'italic', 'underline', 'clear']],\r\n\t\t\t\t// ['font', ['strikethrough', 'superscript', 'subscript']],\r\n\t\t\t\t['fontsize', ['fontsize']],\r\n\t\t\t\t// ['color', ['color']],\r\n\t\t\t\t['para', ['ul', 'ol', 'paragraph']],\r\n\t\t\t\t['view', ['undo', 'redo', 'codeview', 'help']]\r\n\t\t\t\t// ['height', ['height']]\r\n\t\t\t],\r\n\t\t\t// dialogsInBody: true,\r\n\t\t\t// airMode: true,\r\n\t\t\ttabDisable: true,\r\n\t\t\theight: 150,\r\n\t\t};\r\n\t}\r\n\r\n\t// use setFieldValue from props to trigger formik update\r\n\tonInputChange(e) {\r\n\t\tif (e.target.dataset.fieldType === 'subfield') {\r\n\t\t\tconst subfieldIndex = this.props.subfields.findIndex((item) => {return item.id === e.target.name});\r\n\t\t\tthis.props.subfields[subfieldIndex].value = e.target.value;\r\n\t\t\tthis.props.setFieldValue(e.target.id.replace(/.\\d.value/, \"\"), this.props.subfields);\r\n\t\t} else {\r\n\t\t\tconst fieldIndex = this.props.fields.findIndex((item) => {return item.id === e.target.name});\r\n\t\t\tthis.props.fields[fieldIndex].value = e.target.value; \r\n\t\t\tthis.props.setFieldValue(e.target.id.replace(/.\\d.value/, \"\"), this.props.fields);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<TabPane>\r\n\t\t\t\t{Object.values(this.props.fields).map((field, i) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className='tab-item-wrapper' key={field.label}>\r\n\t\t\t\t\t\t\t<FormText muted>\r\n\t\t\t\t\t\t\t\t{field.label}\r\n\t\t\t\t\t\t\t</FormText>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tfield.as === 'textarea' ? \r\n\t\t\t\t\t\t\t\t<ReactSummernote\r\n\t\t\t\t\t\t\t\t\tonChange={(contents, $editable) => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onInputChange({\r\n\t\t\t\t\t\t\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tid: `${this.fieldPrefix}.${i}.value`,\r\n\t\t\t\t\t\t\t\t\t\t\t\tname: field.id,\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: contents,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdataset: {label: field.label}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\toptions={this.wysiwygOptions}\r\n\t\t\t\t\t\t\t\t\tdata-label={field.label}\r\n\t\t\t\t\t\t\t\t/> : \r\n\t\t\t\t\t\t\t\t<Field \r\n\t\t\t\t\t\t\t\t\tas={field.as} \r\n\t\t\t\t\t\t\t\t\tname={field.id} \r\n\t\t\t\t\t\t\t\t\tid={`${this.fieldPrefix}.${i}.value`} \r\n\t\t\t\t\t\t\t\t\tclassName='form-control' \r\n\t\t\t\t\t\t\t\t\tonChange={this.onInputChange} \r\n\t\t\t\t\t\t\t\t\tdata-label={field.label}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<ErrorMessage name={`${this.fieldPrefix}.${i}`} component={FormText} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\r\n\t\t\t\t{Object.values(this.props.subfields).map((subfield, i) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className='tab-item-wrapper' key={subfield.label}>\r\n\t\t\t\t\t\t\t<FormText muted className='text-right'>\r\n\t\t\t\t\t\t\t\t{subfield.label}\r\n\t\t\t\t\t\t\t</FormText>\r\n\t\t\t\t\t\t\t<Field \r\n\t\t\t\t\t\t\t\tname={subfield.id} \r\n\t\t\t\t\t\t\t\tid={`${this.subfieldPrefix}.${i}.value`} \r\n\t\t\t\t\t\t\t\tclassName='form-control' \r\n\t\t\t\t\t\t\t\tonChange={this.onInputChange} \r\n\t\t\t\t\t\t\t\tdata-label={subfield.label}\r\n\t\t\t\t\t\t\t\tdata-field-type=\"subfield\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ErrorMessage name={`${this.subfieldPrefix}.${i}.value`} component={FormText} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</TabPane>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default StatusUpdate;","/* eslint-disable no-multi-str */\r\nconst statusOptions = [\r\n\t{\r\n\t\tvalue: 'Started', \r\n\t\tlabel: 'Started',\r\n\t\tcolor: '#ff00ff',\r\n\t\tdescription: 'Used to indicate a new initiative has been started within the \\\r\n\t\ttimeframe of the status update.\\nIn the status section, write no more than 2-3 \\\r\n\t\tsentences. If you have had any challenges, or foresee potential blockers, \\\r\n\t\tmake note of them in the “Any challenges?” section.',\r\n\t\tpriority: 1,\r\n\t\tfields: [\r\n\t\t\t{id: 'title', label: 'Title(s)', value: '', as: 'input'},\r\n\t\t\t{id: 'whodunnit', label: 'Who', value: '', as: 'textarea'},\r\n\t\t\t{id: 'update_notes', label: 'Update', value: '', as: 'textarea'},\r\n\t\t\t{id: 'challenges', label: 'Any challenges?', value: '', as: 'input'},\r\n\t\t],\r\n\t\tsubfields: []\r\n\t},\r\n\t{\r\n\t\tvalue: 'Continuing',\r\n\t\tlabel: 'Continuing',\r\n\t\tcolor: '#00ff00',\r\n\t\tpriority: 2,\r\n\t\tdescription: 'Used to indicate a previously started initiative is still being worked on, but is progressing \\\r\n\t\tin a healthy manner.\\nIn the “Progress” section, you may indicate what the progress of \\\r\n\t\tthe initiative is, such as by listing the number of tickets done.\\nSamples are given, but \\\r\n\t\tsome projects will be longer than others, so the week description may change. \\\r\n\t\t\\nRegardless, indicate the number week of work in the Status section.',\r\n\t\tfields: [\r\n\t\t\t{id: 'title', label: 'Title(s)', value: '', as: \"input\"},\r\n\t\t\t{id: 'whodunnit', label: 'Who', value: '', as: \"textarea\"},\r\n\t\t\t{id: 'progress_notes', label: 'Progress', value: '', as: \"input\"},\r\n\t\t\t{id: 'update_notes', label: 'Update', value: '', as: \"textarea\"},\r\n\t\t],\r\n\t\tsubfields: []\r\n\t},\r\n\t{\r\n\t\tvalue: 'Milestone',\r\n\t\tlabel: 'Milestone',\r\n\t\tcolor: '#00ffff',\r\n\t\tpriority: 3,\r\n\t\tdescription: 'Used to indicate when an initiative has reached a notable point of development. May fall between “Continuing” statuses for an in-progress initiative.',\r\n\t\tfields: [\r\n\t\t\t{id: 'title', label: 'Title(s)', value: '', as: \"input\"},\r\n\t\t\t{id: 'whodunnit', label: 'Who', value: '', as: \"textarea\"},\r\n\t\t\t{id: 'update_notes', label: 'Update', value: '', as: \"textarea\"},\r\n\t\t],\r\n\t\t// TODO: convert to key-value pairs\r\n\t\tsubfields: [\r\n\t\t\t{id: 'worth', label: 'What is worth celebrating?', value: '', as: 'textarea'},\r\n\t\t\t{id: 'impact', label: 'What is the impact of this outcome/deliverable?', value: '', as: 'textarea'},\r\n\t\t\t{id: 'more', label: 'How can I find out more about this outcome/deliverable?', value: '', as: 'textarea'},\r\n\t\t]\r\n\t}, \r\n\t{\r\n\t\tvalue: 'Prioritized',\r\n\t\tlabel: 'Prioritized',\r\n\t\tcolor: \"#ffff00\",\r\n\t\tpriority: 4,\r\n\t\tdescription: 'Used to indicate when an initiative has been moved up in terms of prioritization. \\\r\n\t\tWhy the initiative was prioritized and who authorized the status change is required.',\r\n\t\tfields: [\r\n\t\t\t{id: 'title', label: 'Title(s)', value: '', as: 'input'},\r\n\t\t\t{id: 'whodunnit', label: 'Who', value: '', as: 'textarea'},\r\n\t\t\t{id: 'update_notes', label: 'Update', value: '', as: 'textarea'},\r\n\t\t\t{id: 'challenges', label: 'Any challenges?', value: '', as: 'input'},\r\n\t\t],\r\n\t\tsubfields: [\r\n\t\t\t{id: 'when', label: 'When was this prioritized?', value: '', as: 'input'},\r\n\t\t\t{id: 'why', label: 'Why was this prioritized?', value: '', as: 'input'},\r\n\t\t\t{id: 'who', label: 'Who authorized the prioritization and when?', value: '', as: 'input'}\r\n\t\t],\r\n\t}, \r\n\t{\r\n\t\tvalue: 'Deprioritized',\r\n\t\tlabel: 'Deprioritized',\r\n\t\tcolor: '#ff9900',\r\n\t\tpriority: 5,\r\n\t\tdescription: 'Used to indicate when an initiative has been moved down in terms of prioritization. Why \\\r\n\t\tthe initiative was deprioritized and who authorized the status change is required.',\r\n\t\tfields: [\r\n\t\t\t{id: 'title', label: 'Title(s)', value: '', as: 'input'},\r\n\t\t\t{id: 'whodunnit', label: 'Who', value: '', as: 'textarea'},\r\n\t\t\t{id: 'update_notes', label: 'Update', value: '', as: 'textarea'},\r\n\t\t\t{id: 'challenges', label: 'Any challenges?', value: '', as: 'input'},\r\n\t\t],\r\n\t\tsubfields: [\r\n\t\t\t{id: 'when', label: 'When was this deprioritized?', value: '', as: 'textarea'},\r\n\t\t\t{id: 'why', label: 'Why was this deprioritized?', value: '', as: 'textarea'},\r\n\t\t\t{id: 'who', label: 'Who authorized the deprioritization and when?', value: '', as: 'textarea'},\r\n\t\t],\r\n\t}, \r\n\t{\r\n\t\tvalue: 'Flagged',\r\n\t\tlabel: 'Flagged',\r\n\t\tcolor: '#b7b7b7',\r\n\t\tpriority: 6,\r\n\t\tdescription: 'Used to indicate when an initiative has encountered a notable delay or hold-up that \\\r\n\t\tshould be noted for future reference, but progress is still being made and thus the \\\r\n\t\tinitiative is not Blocked.',\r\n\t\tfields: [\r\n\t\t\t{id: 'title', label: 'Title(s)', value: '', as: 'input'},\r\n\t\t\t{id: 'whodunnit', label: 'Who', value: '', as: 'textarea'},\r\n\t\t\t{id: 'update_notes', label: 'Update', value: '', as: 'textarea'},\r\n\t\t\t{id: 'challenges', label: 'Any challenges?', value: '', as: 'input'},\r\n\t\t],\r\n\t\tsubfields: [\r\n\t\t\t{id: 'when', label: 'When was this flagged?', value: '', as: 'textarea'},\r\n\t\t\t{id: 'why', label: 'Why was this flagged?', value: '', as: 'textarea'},\r\n\t\t],\r\n\t}, \r\n\t{\r\n\t\tvalue: 'Blocked',\r\n\t\tlabel: 'Blocked',\r\n\t\tcolor: '#ff0000',\r\n\t\tpriority: 7,\r\n\t\tdescription: 'Used to indicate when an initiative has been blocked.',\r\n\t\tfields: [\r\n\t\t\t{id: 'title', label: 'Title(s)', value: '', as: 'input'},\r\n\t\t\t{id: 'whodunnit', label: 'Who', value: '', as: 'textarea'},\r\n\t\t\t{id: 'update_notes', label: 'Update', value: '', as: 'textarea'},\r\n\t\t],\r\n\t\tsubfields: [\r\n\t\t\t{id: 'who', label: 'Who is blocking?', value: '', as: 'textarea'},\r\n\t\t\t{id: 'what', label: 'What is the block?', value: '', as: 'textarea'},\r\n\t\t\t{id: 'tried', label: 'What have you tried?', value: '', as: 'textarea'},\r\n\t\t],\r\n\t}, \r\n\t{\r\n\t\tvalue: 'Emergency Request',\r\n\t\tlabel: 'Emergency Request',\r\n\t\tcolor: '#ea9999',\r\n\t\tpriority: 0,\r\n\t\tdescription: 'Used to indicate when an initiative has been bumped to top priority. This status, if used,\\\r\n\t\tshould always be listed first in the Weekly Status Update.',\r\n\t\tfields: [\r\n\t\t\t{id: 'title', label: 'Title(s)', value: '', as: 'input'},\r\n\t\t\t{id: 'whodunnit', label: 'Who', value: '', as: 'textarea'},\r\n\t\t\t{id: 'update_notes', label: 'Update', value: '', as: 'textarea'},\r\n\t\t\t{id: 'challenges', label: 'Any challenges?', value: '', as: 'input'},\r\n\t\t],\r\n\t\tsubfields: [\r\n\t\t\t{id: 'who', label: 'Who is requesting?', value: '', as: 'textarea'},\r\n\t\t\t{id: 'when', label: 'When is it needed by?', value: '', as: 'textarea'},\r\n\t\t],\r\n\t}, \r\n\t{\r\n\t\tvalue: 'Completed',\r\n\t\tlabel: 'Completed',\r\n\t\tcolor: '#9900ff',\r\n\t\tpriority: 8,\r\n\t\tdescription: 'Initiative is complete.',\r\n\t\tfields: [\r\n\t\t\t{id: 'title', label: 'Title(s)', value: '', as: 'input'},\r\n\t\t\t{id: 'whodunnit', label: 'Who', value: '', as: 'textarea'},\r\n\t\t\t{id: 'update_notes', label: 'Update', value: '', as: 'textarea'},\r\n\t\t],\r\n\t\tsubfields: [\r\n\t\t\t{id: 'impact', label: 'What is the impact of this outcome/deliverable?', value: '', as: 'textarea'},\r\n\t\t\t{id: 'who', label: 'Who did it?', value: '', as: 'textarea'},\r\n\t\t\t{id: 'notes', label: 'Any final notes?', value: '', as: 'textarea'},\r\n\t\t\t{id: 'more', label: 'How can I found out more about this outcome/deliverable?', value: '', as: 'textarea'},\r\n\t\t],\r\n\t},\r\n];\r\n\r\nexport default statusOptions;","import React from 'react';\r\nimport chroma from 'chroma-js';\r\nimport Select from 'react-select';\r\nimport { useField, Field } from \"formik\";\r\n\r\nimport Card from 'react-bootstrap/Card';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport FormGroup from 'react-bootstrap/FormGroup';\r\nimport FormText from 'react-bootstrap/FormText';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\n\r\nimport '../styles.css';\r\nimport StatusUpdate from './StatusUpdate';\r\nimport statusOptions from '../data/options';\r\n\r\nconst CustomDropdown = ({ options, label, ...props }) => {\r\n\tconst [field, meta, helpers] = useField(props);\r\n\t\r\n\t// react-select custom styling functions\r\n\tconst customStyles = {\r\n\t\tcontainer: provided => ({\r\n\t\t\t...provided,\r\n\t\t\twidth: \"100%\",\r\n\t\t}),\r\n\r\n\t\tmenu: (provided, state) => ({\r\n\t\t\t...provided,\r\n\t\t\tpadding: 20,\r\n\t\t}),\r\n\t\r\n\t\tcontrol: styles => ({ ...styles, backgroundColor: 'white' }),\r\n\r\n\t\toption: (styles, { data, isDisabled, isFocused, isSelected }) => {\r\n\t\t\tconst color = chroma(data.color);\r\n\t\t\treturn {\r\n\t\t\t\t...styles,\r\n\t\t\t\tbackgroundColor: isDisabled\r\n\t\t\t\t\t? null\r\n\t\t\t\t\t: isSelected\r\n\t\t\t\t\t? data.color\r\n\t\t\t\t\t: isFocused\r\n\t\t\t\t\t? color.alpha(0.1).css()\r\n\t\t\t\t\t: null,\r\n\t\t\t\tcolor: isDisabled\r\n\t\t\t\t\t? '#ccc'\r\n\t\t\t\t\t: isSelected\r\n\t\t\t\t\t? chroma.contrast(color, 'white') > 2\r\n\t\t\t\t\t\t? 'white'\r\n\t\t\t\t\t\t: 'black'\r\n\t\t\t\t\t: data.color,\r\n\t\t\t\tcursor: isDisabled ? 'not-allowed' : 'default',\r\n\t\r\n\t\t\t\t':active': {\r\n\t\t\t\t\t...styles[':active'],\r\n\t\t\t\t\tbackgroundColor:\r\n\t\t\t\t\t\t!isDisabled && (isSelected ? data.color : color.alpha(0.3).css()),\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tinput: styles => ({ ...styles, width: '100%'}),\r\n\t\tsingleValue: (styles, { data }) => ({...styles, backgroundColor: data.color}),\r\n\t\tmultiValue: (styles, { data }) => {\r\n\t\t\tconst color = chroma(data.color);\r\n\t\t\treturn {\r\n\t\t\t\t...styles,\r\n\t\t\t\tbackgroundColor: color.alpha(0.1).css(),\r\n\t\t\t};\r\n\t\t},\r\n\t\tmultiValueLabel: (styles, { data }) => ({\r\n\t\t\t...styles,\r\n\t\t\tcolor: data.color,\r\n\t\t}),\r\n\t\tmultiValueRemove: (styles, { data }) => ({\r\n\t\t\t...styles,\r\n\t\t\tcolor: data.color,\r\n\t\t\t':hover': {\r\n\t\t\t\tbackgroundColor: data.color,\r\n\t\t\t\tcolor: 'white',\r\n\t\t\t},\r\n\t\t}),\r\n\t}\r\n\r\n\t// wrapper function for setState where formik's setValue is called\r\n\tfunction handleOptionChange(selection) {\r\n\t\tprops.handleOptionChange(selection);\r\n\t\thelpers.setValue(selection);\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<FormText muted>\r\n\t\t\t\t{label}\r\n\t\t\t</FormText>\r\n\t\t\t<Select\r\n\t\t\t\tstyles={customStyles}\r\n\t\t\t\toptions={options}\t\t\t\r\n\t\t\t\t{...field}\r\n\t\t\t\t{...props}\r\n\t\t\t\tonBlur={() => helpers.setTouched(true)}\r\n\t\t\t\tonChange={handleOptionChange}\r\n\t\t\t\tisMulti\r\n\t\t\t\t// placeholder='Select status(es)...'\r\n\t\t\t\t//value={options.filter((item) => {return item.label === field.value})}\r\n\t\t\t/>\r\n\t\t\t{meta.touched && meta.error ? (\r\n\t\t\t\t<span className='error'>{meta.error.value}</span>\r\n\t\t\t) : null}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nclass Initiative extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.handleOptionChange = this.handleOptionChange.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tname: this.props.name || 'Initiative Name',\r\n\t\t\tfields: this.props.fields || {},\r\n\t\t\tsubfields: this.props.subfields || {},\r\n\t\t\tstatuses: this.props.statuses || [],\r\n\t\t\thelp_text: this.props.help_text || {},\r\n\t\t\tindex: this.props.index\r\n\t\t};\r\n\t}\r\n\r\n\t// on Status change, set fields/subfields, description, and status in state\r\n\thandleOptionChange(selections) {\r\n\t\tconst newSelections = {\r\n\t\t\tfields: Object.assign(...selections.map((selection, i) => {return {[selection.label]: selection.fields}})),\r\n\t\t\tsubfields: Object.assign(...selections.map((selection, i) => {return {[selection.label]: selection.subfields}})),\r\n\t\t\thelp_text: Object.assign(...selections.map((selection, i) => {return {[selection.label]: selection.description.split('\\n').map((str, i) => <p key={i}>{str}</p>)}})),\r\n\t\t\tstatuses: selections.map((selection, i) => selection.value).flat(),\r\n\t\t};\r\n\t\tconst newFields = {...this.state, ...newSelections};\r\n\t\tthis.setState(newFields);\r\n\t\t\r\n\t\t// set values in Formik form state\r\n\t\t// this.props.setFieldValue(`initiatives.${this.props.index}.fields`, newSelections.fields);\r\n\t\tthis.props.setFieldValue(`initiatives.${this.props.index}.subfields`, newSelections.subfields);\r\n\t\tthis.props.setFieldValue(`initiatives.${this.props.index}.help_text`, newSelections.help_text);\r\n\t\tthis.props.setFieldValue(`initiatives.${this.props.index}.statuses`, selections);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Card className='form-container' style={{margin: \"2px\", width: '30rem'}}>\r\n\t\t\t\t<Card.Header>\r\n\t\t\t\t\t<Field className='form-control-plaintext h3-plaintext-input' name={`initiatives.${this.state.index}.name`} />\r\n\t\t\t\t</Card.Header>\r\n\t\t\t\t<Card.Body>\r\n\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t<CustomDropdown \r\n\t\t\t\t\t\t\t\tname={`initiatives.${this.state.index}.statuses`}\r\n\t\t\t\t\t\t\t\tlabel='Status(es)'\r\n\t\t\t\t\t\t\t\toptions={statusOptions}\r\n\t\t\t\t\t\t\t\thandleOptionChange={this.handleOptionChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t{this.state.statuses.length > 0 &&\r\n\t\t\t\t\t\t<Tabs>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tObject.keys(this.state.fields).map((status, i) => (\r\n\t\t\t\t\t\t\t\t\t<Tab eventKey={status.toLowerCase()} title={status} key={status}>\r\n\t\t\t\t\t\t\t\t\t\t<FormText style={{paddingTop: \"20px\", display: 'none'}} muted>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.help_text[status]}\r\n\t\t\t\t\t\t\t\t\t\t</FormText>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<StatusUpdate \r\n\t\t\t\t\t\t\t\t\t\t\tfields={this.state.fields[status]}\r\n\t\t\t\t\t\t\t\t\t\t\tsubfields={this.state.subfields[status]}\r\n\t\t\t\t\t\t\t\t\t\t\tinitiativeIndex={this.state.index} \r\n\t\t\t\t\t\t\t\t\t\t\tkey={status} \r\n\t\t\t\t\t\t\t\t\t\t\tstatus={status} \r\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue={this.props.setFieldValue}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Card.Body>\r\n\t\t\t</Card>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Initiative;","// https://levelup.gitconnected.com/elegant-pdfs-from-user-generated-content-in-react-656b79533fee\r\nimport React from 'react';\r\n\r\nimport { EditorState, ContentState, convertToRaw, convertFromHTML } from 'draft-js';\r\nimport htmlToDraft from 'html-to-draftjs';\r\nimport { StyleSheet, View, Text, Link } from '@react-pdf/renderer';\r\nimport redraft from 'redraft';\r\n\r\nconst styles = StyleSheet.create({\r\n\theadingOne: {\r\n\t\tmarginBottom: 4,\r\n\t\tfontFamily: \"Helvetica-Bold\",\r\n\t\tlineHeight: 1.35,\r\n\t\tfontSize: 14,\r\n\t},\r\n\ttext: {\r\n\t\tmargin: 5,\r\n\t\tmarginBottom: 8,\r\n\t\tfontFamily: 'Helvetica',\r\n\t\tlineHeight: 1.45,\r\n\t\tfontSize: 12,\r\n\t},\r\n\tlist: {\r\n\t\tmarginBottom: 8,\r\n\t\tmarginLeft: 6,\r\n\t},\r\n\tlistItem: {\r\n\t\tmarginBottom: 4,\r\n\t},\r\n\tlistItemText: {\r\n\t\tfontFamily: 'Helvetica',\r\n\t\tlineHeight: 1.45,\r\n\t\tfontSize: 12,\r\n\t}\r\n});\r\n\r\nconst HeadingOne = ({ children }) => {\r\n\treturn (\r\n\t\t<View>\r\n\t\t\t<Text style={styles.headingOne}>{children}</Text>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst UnorderedList = ({ children, depth }) => {\r\n\treturn <View style={styles.list}>{children}</View>;\r\n};\r\n\r\nconst UnorderedListItem = ({ children }) => {\r\n\treturn (\r\n\t\t<View style={styles.listItem}>\r\n\t\t\t<Text style={styles.listItemText}>\r\n\t\t\t\t• &nbsp;<Text>{children}</Text>\r\n\t\t\t</Text>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst OrderedList = ({ children, depth }) => {\r\n\treturn <View style={styles.list}>{children}</View>;\r\n};\r\n\r\nconst OrderedListItem = ({ children, index }) => {\r\n\treturn (\r\n\t\t<View style={styles.listItem}>\r\n\t\t\t<Text style={styles.listItemText}>\r\n\t\t\t\t{index + 1}. &nbsp;<Text>{children}</Text>\r\n\t\t\t</Text>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nconst renderers = {\r\n\tinline: {\r\n\t\t// The key passed here is just an index based on rendering order inside a block\r\n\t\tBOLD: (children, { key }) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Text key={`bold-${key}`} style={{fontFamily: 'Helvetica-Bold'}}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</Text>\r\n\t\t\t);\r\n\t\t},\r\n\t\tITALIC: (children, { key }) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Text key={`italic-${key}`} style={{fontFamily: 'Helvetica-Oblique'}}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</Text>\r\n\t\t\t);\r\n\t\t},\r\n\t\tUNDERLINE: (children, { key }) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Text key={`underline-${key}`} style={{textDecoration: 'underline'}}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</Text>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\tblocks: {\r\n\t\tunstyled: (children, { keys }) => {\r\n\t\t\treturn children.map((child, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<View key={keys[index]}>\r\n\t\t\t\t\t\t<Text style={styles.text}>{child}</Text>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t)\r\n\t\t\t});\r\n\t\t},\r\n\t\t'header-one': (children, { keys }) => {\r\n\t\t\treturn children.map((child, index) => {\r\n\t\t\t\treturn <HeadingOne key={keys[index]}>{child}</HeadingOne>;\r\n\t\t\t});\r\n\t\t},\r\n\t\t'unordered-list-item': (children, { depth, keys }) => {\r\n\t\t\treturn (\r\n\t\t\t\t<UnorderedList key={keys[keys.length - 1]} depth={depth}>\r\n\t\t\t\t\t{children.map((child, index) => (\r\n\t\t\t\t\t\t<UnorderedListItem key={keys[index]}>{child}</UnorderedListItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</UnorderedList>\r\n\t\t\t);\r\n\t\t},\r\n\t\t'ordered-list-item': (children, { depth, keys }) => {\r\n\t\t\treturn (\r\n\t\t\t\t<OrderedList key={keys.join('|')} depth={depth}>\r\n\t\t\t\t\t{children.map((child, index) => (\r\n\t\t\t\t\t\t<OrderedListItem key={keys[index]} index={index}>\r\n\t\t\t\t\t\t\t{child}\r\n\t\t\t\t\t\t</OrderedListItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</OrderedList>\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tentities: {\r\n\t\t// key is the entity key value from raw\r\n\t\tLINK: (children, data, { key }) => (\r\n\t\t\t<Link key={key} src={data.url}>\r\n\t\t\t\t{children}\r\n\t\t\t</Link>\r\n\t\t),\r\n\t\tFONT: (children, data, { key }) => (\r\n\t\t\t<Text key={key} style={data.style}>\r\n\t\t\t\t{data.text}\r\n\t\t\t</Text>\r\n\t\t),\r\n\t\tSPAN: (children, data, { key }) => (\r\n\t\t\t<Text key={key} style={data.style}>\r\n\t\t\t\t{children}\r\n\t\t\t</Text>\r\n\t\t)\r\n\t},\r\n}\r\n\r\nconst RichText = ({ note }) => {\r\n\t// const blocksFromHTML = htmlToDraft(note, (nodeName, node) => {\r\n\t// \tconsole.log(note, nodeName);\r\n\t// \tif (nodeName === 'font' && node.color !== undefined) {\r\n\t// \t\treturn {\r\n\t// \t\t\ttype: \"FONT\",\r\n\t// \t\t\tmutability: \"MUTABLE\",\r\n\t// \t\t\tdata: {\r\n\t// \t\t\t\tstyle: {backgroundColor: node.color},\r\n\t// \t\t\t\ttext: node.firstElementChild ? node.firstElementChild.textContent : node.textContent,\r\n\t// \t\t\t\ttextStyle: node.firstElementChild ? {textDecorationColor: node.firstElementChild.style.backgroundColor} : {}\r\n\t// \t\t\t}\r\n\t// \t\t};\r\n\t// \t}\r\n\t// \tif (nodeName === 'b') {\r\n\t// \t\treturn {\r\n\t// \t\t\ttype: \"BOLD\",\r\n\t// \t\t\tmutability: \"MUTABLE\",\r\n\t// \t\t\tdata: {}\r\n\t// \t\t}\r\n\t// \t}\r\n\t// });\r\n\r\n\tconst blocksFromHTML = convertFromHTML(note);\r\n\t\r\n\tconst initialState = ContentState.createFromBlockArray(blocksFromHTML.contentBlocks);\r\n\r\n\tconst editorState = EditorState.createWithContent(initialState);\r\n\tconst rawContent = convertToRaw(editorState.getCurrentContent());\r\n\treturn redraft(rawContent, renderers, { blockFallback: 'unstyled'});\r\n}\r\n\r\nexport default RichText;","import React from 'react';\r\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\r\nimport moment from 'moment';\r\n\r\n// HTML parser element\r\nimport RichText from './RichText';\r\n\r\n// 'Helvetica',\r\n// 'Helvetica-Bold',\r\n// 'Helvetica-Oblique',\r\n// 'Helvetica-BoldOblique'\r\n\r\nconst styles = StyleSheet.create({\r\n\tpage: {\r\n\t\tpaddingTop: 35,\r\n\t\tpaddingBottom: 65,\r\n\t\tpaddingHorizontal: 35,\r\n\t\t// flexDirection: 'row',\r\n\t\tfontFamily: 'Helvetica',\r\n\t\tfontSize: '12pt'\r\n\t},\r\n\tsection: {\r\n\t\tmargin: 20,\r\n\t\tpadding: 20,\r\n\t\tflexGrow: 5,\r\n\t},\r\n\ttext: {\r\n\t\tmargin: 12,\r\n\t\tfontSize: 14,\r\n\t\tfontFamily: 'Helvetica',\r\n\t},\r\n\tbody: {\r\n\t\tpaddingTop: 35,\r\n\t\tpaddingBottom: 65,\r\n\t\tpaddingHorizontal: 35,\r\n\t},\r\n});\r\n\r\n// https://github.com/diegomura/react-pdf/issues/487\r\nconst tableStyles = StyleSheet.create({\r\n\ttable: { \r\n\t\tdisplay: \"table\", \r\n\t\twidth: \"auto\", \r\n\t\tborderStyle: \"solid\", \r\n\t\tborderColor: '#bfbfbf',\r\n\t\tborderWidth: 1, \r\n\t\tborderRightWidth: 0, \r\n\t\tborderBottomWidth: 0 \r\n\t  }, \r\n\t  tableRow: { \r\n\t\tmargin: \"auto\", \r\n\t\tflexDirection: \"row\",\r\n\t  }, \r\n\t  tableColHeader: { \r\n\t\twidth: \"100%\", \r\n\t\tborderStyle: \"solid\", \r\n\t\tborderColor: '#bfbfbf',\r\n\t\tborderBottomColor: '#000',\r\n\t\tborderWidth: 1, \r\n\t\tborderLeftWidth: 0, \r\n\t\tborderTopWidth: 0,\r\n\t\tborderBottomWidth: 0,\r\n\t  },   \r\n\t  tableCol: { \r\n\t\twidth: \"100%\", \r\n\t\tborderStyle: \"solid\", \r\n\t\tborderColor: '#bfbfbf',\r\n\t\tborderWidth: 1, \r\n\t\tborderLeftWidth: 0, \r\n\t\tborderTopWidth: 0,\t\t\t\r\n\t  }, \r\n\t  tableCellHeader: {\r\n\t\tmargin: 2, \r\n\t\tfontSize: 12,\r\n\t\tfontFamily: 'Helvetica-Bold'\r\n\t  },\r\n\t  tableCellSubHeader: {\r\n\t\tmargin: 2,\r\n\t\tfontSize: 12,\r\n\t\tfontFamily: 'Helvetica-Bold',\r\n\t\ttextAlign: 'right',\r\n\t  },\r\n\t  tableCell: { \r\n\t\tmargin: 5,\r\n\t\tfontSize: 12,\r\n\t\ttextIndent: '25pt',\r\n\t  },\r\n\t  tableCellSub: {\r\n\t\tmargin: 5,\r\n\t\tfontSize: 12,\r\n\t\ttextIndent: '25pt',\r\n\t\ttextAlign: 'right'\r\n\t  }\r\n});\r\n\r\nconst PdfDocument = props => {\r\n\tconst initiativeListIndent = '25pt';\r\n\tconst initiativeListBottomPadding = '10pt';\r\n\tconst doubleTabSpacingPt = '65pt'\r\n\r\n\tconst header = <View style={styles.text}>\r\n\t\t<Text style={{fontFamily: 'Helvetica-Bold'}}>Weekly Status Update</Text>\r\n\t\t<Text>Week of {moment().format('L')}</Text>\r\n\t\t{/* TODO: first monday of the week */}\r\n\t\t{/* TODO: how is this determined? */}\r\n\t\t{/* <Text style={{fontFamily: 'Helvetica-Oblique'}}>Due: Thursday, Month, DD</Text> */}\r\n\t</View>\r\n\r\n\tconst initiativeList = <View style={styles.text}>\r\n\t\t<Text style={{fontFamily: 'Helvetica-Bold', textIndent: initiativeListIndent, paddingBottom: initiativeListBottomPadding}}>List of Initiatives:</Text>\r\n\t\t{props.initiatives.map((initiative, i) => (\r\n\t\t\t<>\r\n\t\t\t<Text>\r\n\t\t\t\t<Text style={{fontFamily: 'Helvetica-Bold', textIndent: '50pt'}}>{i + 1}. </Text>\r\n\t\t\t\t<Text style={{textIndent: '50pt'}}>{initiative.name}</Text>\r\n\t\t\t</Text>\r\n\t\t\t<Text style={{fontFamily: 'Helvetica-Oblique', textIndent: doubleTabSpacingPt, paddingBottom: '10pt'}}>\r\n\t\t\t\t{initiative.statuses.length === 1 ? 'Status: ' : 'Statuses: '}\r\n\t\t\t\t{initiative.statuses.map((status, i) => (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t<Text style={{backgroundColor: status.color}}>{status.value}</Text>\r\n\t\t\t\t\t{initiative.statuses.indexOf(status) !== initiative.statuses.length - 1 ? ', ' : null }\r\n\t\t\t\t\t</>\r\n\t\t\t\t))}\r\n\t\t\t</Text>\r\n\t\t\t</>\r\n\t\t))}\r\n\t</View>\r\n\r\n\t// custom styled element for full span \"header\" row\r\n\tconst tableHeaderRow = (text) => <View style={tableStyles.tableRow}>\r\n\t\t<View style={tableStyles.tableColHeader}>\r\n\t\t\t<Text style={tableStyles.tableCellHeader}>{text}:</Text>\r\n\t\t</View>\r\n\t</View>\r\n\r\n\tconst tableHeaderSubRow = (text) => <View style={tableStyles.tableRow}>\r\n\t\t<View style={tableStyles.tableColHeader}>\r\n\t\t\t<Text style={tableStyles.tableCellSubHeader}>{text}</Text>\r\n\t\t</View>\r\n\t</View>\r\n\r\n\t// custom styled element for full span \"cell\" row\r\n\tconst tableCellRow = (text) => <View style={tableStyles.tableRow}>\r\n\t\t<View style={tableStyles.tableCol}>\r\n\t\t\t<RichText note={text} />\r\n\t\t</View>\r\n\t</View>\r\n\r\n\t// iterate thru each initiative, creating a table of inputs and their values, grouped by status\r\n\tconst initiativeTable = props.initiatives.map((initiative, i) => {\r\n\t\treturn Object.keys(initiative.fields).map((status, j) => {\r\n\t\t\tconst statusObject = initiative.statuses[j];\r\n\t\t\tconst headerStyle = {\r\n\t\t\t\tbackgroundColor: statusObject.color, \r\n\t\t\t\ttextIndent: '10pt',\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Text style={{fontFamily: \"Helvetica-Bold\", fontSize: 14}}>\r\n\t\t\t\t\t\t<Text style={headerStyle}>{statusObject.value}</Text>\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t\t<View style={{padding: 10}}>\r\n\t\t\t\t\t\t<View style={tableStyles.table}>\r\n\t\t\t\t\t\t\t{initiative.fields[status].map((field, k) => {\r\n\t\t\t\t\t\t\t\treturn <>\r\n\t\t\t\t\t\t\t\t\t{tableHeaderRow(field.label)}\r\n\t\t\t\t\t\t\t\t\t{tableCellRow(field.value)}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{initiative.subfields[status].map((field, k) => {\r\n\t\t\t\t\t\t\t\treturn <>\r\n\t\t\t\t\t\t\t\t\t{tableHeaderSubRow(field.label)}\r\n\t\t\t\t\t\t\t\t\t{tableCellRow(field.value)}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</>\r\n\t\t\t)\r\n\t\t})\r\n\t})\r\n\t\r\n\treturn (\r\n\t\t<Document>\r\n\t\t\t<Page size='A4' style={styles.page}>\r\n\t\t\t\t{header}\r\n\t\t\t\t{initiativeList}\r\n\t\t\t\t{initiativeTable}\r\n\t\t\t</Page>\r\n\t\t</Document>\r\n\t)\r\n}\r\n\r\nexport default PdfDocument;","/* eslint-disable no-multi-str */\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Container from 'react-bootstrap/Container';\r\nimport Button from 'react-bootstrap/Button';\r\nimport CardDeck from 'react-bootstrap/CardDeck';\r\n\r\n// Form Stuff\r\nimport { Formik, Form, FieldArray } from \"formik\";\r\n// import Select from 'react-select';\r\n// import chroma from 'chroma-js';\r\nimport * as Yup from 'yup';\r\n\r\nimport Initiative from './components/Initiative';\r\n\r\nimport { /* PDFDownloadLink, PDFViewer, */ BlobProvider } from '@react-pdf/renderer';\r\nimport PdfDocument from './components/PdfDocument';\r\n\r\n// const DownloadLink = props => {\r\n// \treturn (\r\n// \t\t<>\r\n// \t\t\t<PDFDownloadLink document={props.document} fileName={props.filename}>\r\n// \t\t\t\t{({blob, url, loading, error}) => (loading ? 'Loading document...' : 'Download now!')}\r\n// \t\t\t</PDFDownloadLink>\r\n// \t\t</>\r\n// \t)\r\n// }\r\n\r\n// const PdfViewer = props => {\r\n// \treturn (\r\n// \t\t<>\r\n// \t\t\t<PDFViewer>\r\n// \t\t\t\t{props.document}\r\n// \t\t\t</PDFViewer>\r\n// \t\t</>\r\n// \t)\r\n// }\r\n\r\nconst BlobLink = props => {\r\n\treturn (\r\n\t\t<>\r\n\t\t<BlobProvider document={props.document}>\r\n  \t\t\t{({ url }) => (\r\n    \t\t\t<a href={url} target=\"_blank\" rel=\"noreferrer\">Open in new tab</a>\r\n  \t\t\t)}\r\n\t\t</BlobProvider>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nconst RemoveButton = ({arrayHelpers, index, ...props}) => (\r\n\t<Button \r\n\t\tclassName='float-right' \r\n\t\tas=\"input\" \r\n\t\ttype=\"button\" \r\n\t\tvariant='warning' \r\n\t\tvalue='Remove' \r\n\t\tonClick={() => arrayHelpers.remove(index)} \r\n\t/>\r\n)\r\n\r\nconst AddButton = ({arrayHelpers, index, ...props}) => (\r\n\t<Button \r\n\t\tas=\"input\" \r\n\t\tvariant=\"info\" \r\n\t\ttype=\"button\" \r\n\t\tvalue=\"Add\" \r\n\t\tonClick={() => arrayHelpers.push({name: 'Initiative Name', fields: {}, subfields: {}, statuses: [], index: index})} \r\n\t/>\r\n)\r\n\r\nclass Body extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t// {\"initiatives\": [\r\n\t\t// \t{\r\n\t\t// \t  \"name\": \"Initiative Name\",\r\n\t\t// \t  \"fields\": {\r\n\t\t// \t\t\"Started\": [\r\n\t\t// \t\t  {\r\n\t\t// \t\t\t\"id\": \"title\",\r\n\t\t// \t\t\t\"value\": \"asdf\",\r\n\t\t// \t\t\t\"label\": \"Title(s)\"\r\n\t\t// \t\t  },\r\n\t\t// \t\t  {\r\n\t\t// \t\t\t\"id\": \"whodunnit\",\r\n\t\t// \t\t\t\"value\": \"<p>fff</p>\",\r\n\t\t// \t\t\t\"label\": \"Who\"\r\n\t\t// \t\t  },\r\n\t\t// \t\t  {\r\n\t\t// \t\t\t\"id\": \"update_notes\",\r\n\t\t// \t\t\t\"value\": \"<p>ffsdf</p>\",\r\n\t\t// \t\t\t\"label\": \"Update\"\r\n\t\t// \t\t  },\r\n\t\t// \t\t  {\r\n\t\t// \t\t\t\"id\": \"challenges\",\r\n\t\t// \t\t\t\"value\": \"asdfasdf\",\r\n\t\t// \t\t\t\"label\": \"Any challenges?\"\r\n\t\t// \t\t  }\r\n\t\t// \t\t]\r\n\t\t// \t  },\r\n\t\t// \t  \"subfields\": {\r\n\t\t// \t\t\"Started\": []\r\n\t\t// \t  },\r\n\t\t// \t}\r\n\t\t// ]}\r\n\t\t// this.validationSchema = Yup.object().shape({\r\n\t\t// \tinitiatives: Yup.array().of(\r\n\t\t// \t\tYup.object().shape({\r\n\t\t// \t\t\tname: Yup.string().required(),\r\n\t\t// \t\t\tfields: Yup.object(),\r\n\t\t// \t\t\tsubfields: Yup.object()\r\n\t\t// \t\t})\r\n\t\t// \t)\r\n\t\t// });\r\n\r\n\t\tthis.validationSchema = Yup.lazy((values) => {\r\n\t\t\treturn Yup.object().shape({\r\n\t\t\t\tinitiatives: Yup.array().of(\r\n\t\t\t\t\tYup.object().shape({\r\n\t\t\t\t\t\tname: Yup.string().required(),\r\n\t\t\t\t\t\tstatuses: Yup.array().of(Yup.object()).required(),\r\n\t\t\t\t\t\tfields: Yup.object().required(),\r\n\t\t\t\t\t\tsubfields: Yup.object()\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t});\r\n\t\t}) \r\n\r\n\t\tthis.state = {\r\n\t\t\tinitiatives: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'Initiative Name', \r\n\t\t\t\t\tfields: {},\r\n\t\t\t\t\tsubfields: {},\r\n\t\t\t\t\tstatuses: [],\r\n\t\t\t\t\thelp_text: {},\r\n\t\t\t\t\tindex: 0\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tvalidationSchema: this.validationSchema,\r\n\t\t\tdownload_link: null,\r\n\t\t\tiframe: null,\r\n\t\t};\r\n\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\t// this.handleOptionChange = this.handleOptionChange.bind(this);\r\n\t}\r\n\r\n\thandleSubmit(values, {setSubmitting}) {\r\n\t\tsetTimeout(() => {\r\n\t\t\tconsole.log(JSON.stringify(values, null, 2));\r\n\t\t\tthis.setState({download_link: <BlobLink document={<PdfDocument initiatives={values.initiatives} />}/>})\r\n\t\t\t// this.setState({iframe: <PdfViewer document={<PdfDocument initiatives={values.initiatives} />}/>})\r\n\t\t\tsetSubmitting(false);\r\n\t\t}, 400);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={this.state}\r\n\t\t\t\t\tonSubmit={this.handleSubmit}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={this.state.validationSchema}\r\n\t\t\t\t>\r\n\t\t\t\t\t{formProps => (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<FieldArray name='initiatives'>\r\n\t\t\t\t\t\t\t{(arrayHelpers) => (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<CardDeck style={{boxShadow: '10px 10px 30px grey', border: '2px groove grey', padding: \"10px\"}}>\r\n\t\t\t\t\t\t\t\t{formProps.values.initiatives && formProps.values.initiatives.length > 0 ? (\r\n\t\t\t\t\t\t\t\t\tformProps.values.initiatives.map((initiative, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Initiative \r\n\t\t\t\t\t\t\t\t\t\t\t\t{...initiative} \r\n\t\t\t\t\t\t\t\t\t\t\t\tsetFieldValue={formProps.setFieldValue} \r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t{formProps.values.initiatives.length > 1 && \r\n\t\t\t\t\t\t\t\t\t\t\t\t<RemoveButton arrayHelpers={arrayHelpers} index={index} />\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t</CardDeck>\r\n\t\t\t\t\t\t\t\t<AddButton arrayHelpers={arrayHelpers} index={formProps.values.initiatives.length} />&nbsp;\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</FieldArray>\r\n\t\t\t\t\t\t<Button as=\"input\" variant=\"success\" type=\"submit\" value=\"Submit\" />\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t\t{this.state.iframe}\r\n\t\t\t\t<div style={{paddingTop: 10}}>\r\n\t\t\t\t\t{this.state.download_link}\r\n\t\t\t\t</div>\r\n\t\t\t</Container>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction App() {\r\n\treturn <Body />;\r\n}\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<App />, rootElement);\r\n"],"sourceRoot":""}